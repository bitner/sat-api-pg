{
	"info": {
		"_postman_id": "41de7db8-4449-4b65-a484-1c5062d2ab66",
		"name": "sat-api-next",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "PostgREST simple cross collection.",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-114.18578, 30.64594, -111.68488, 32.81955]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/rpc/search?select=*&or=(properties->>\"eo:gsd\".eq.15,collectionproperties->>\"eo:gsd\".eq.15)",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"rpc",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						},
						{
							"key": "or",
							"value": "(properties->>\"eo:gsd\".eq.15,collectionproperties->>\"eo:gsd\".eq.15)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Logical and",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-114.18578, 30.64594, -111.68488, 32.81955]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/rpc/search?select=collection,geometry,properties,type,assets&and=(or(properties->>\"eo:cloud_cover\".eq.0,collectionproperties->>\"eo:cloud_cover\".eq.0),or(properties->>\"eo:gsd\".eq.15,collectionproperties->>\"eo:gsd\".eq.15))",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"rpc",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "collection,geometry,properties,type,assets"
						},
						{
							"key": "and",
							"value": "(or(properties->>\"eo:cloud_cover\".eq.0,collectionproperties->>\"eo:cloud_cover\".eq.0),or(properties->>\"eo:gsd\".eq.15,collectionproperties->>\"eo:gsd\".eq.15))"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Fields filter include",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-114.18578, 30.64594, -111.68488, 32.81955],\n\t\"include\": [\"eo:row\",\"eo:cloud_cover\"]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/rpc/search?select=collection&or=(properties->>\"eo:row\".eq.038,collectionproperties->>\"eo:ow\".eq.038)",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"rpc",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "collection"
						},
						{
							"key": "or",
							"value": "(properties->>\"eo:row\".eq.038,collectionproperties->>\"eo:ow\".eq.038)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Fields filter exclude",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-114.18578, 30.64594, -111.68488, 32.81955],\n\t\"exclude\": [\"eo:cloud_cover\", \"eo:epsg\"]\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/rpc/search?select=*&or=(properties->>\"eo:row\".eq.038,collectionproperties->>\"eo:ow\".eq.038)",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"rpc",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						},
						{
							"key": "or",
							"value": "(properties->>\"eo:row\".eq.038,collectionproperties->>\"eo:ow\".eq.038)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Full collectionitems",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8080/rest/collectionitems",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"collectionitems"
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Insert item",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Prefer",
						"value": "return=minimal",
						"type": "text"
					},
					{
						"key": "Authorization",
						"value": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPbmxpbmUgSldUIEJ1aWxkZXIiLCJpYXQiOjE1Njg4MzI0MzQsImV4cCI6MTYwMDM2ODQzNCwiYXVkIjoid3d3LmV4YW1wbGUuY29tIiwic3ViIjoianJvY2tldEBleGFtcGxlLmNvbSIsInJvbGUiOiJhcHBsaWNhdGlvbiJ9.MGcj44Mn4thGs1jUBIordS-VaHfXMeGGpuz8pNJ8-2E",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"collection\": \"landsat-8-l1\",\n  \"type\": \"Feature\",\n  \"id\": \"LC81152062019205\",\n  \"geometry\": {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n      [\n        [\n          -79.15036257344006,\n          31.073356917266796\n        ],\n        [\n          -81.13111185550392,\n          30.674004943358554\n        ],\n        [\n          -81.61307743603228,\n          32.40902936753556\n        ],\n        [\n          -79.62938354024396,\n          32.80184135961768\n        ],\n        [\n          -79.15036257344006,\n          31.073356917266796\n        ]\n      ]\n    ]\n  },\n  \"properties\": {\n    \"eo:platform\": \"landsat-8\",\n    \"eo:instrument\": \"OLI_TIRS\",\n    \"eo:off_nadir\": 0,\n    \"datetime\": \"2019-07-24T03:13:30.564234+00:00\",\n    \"eo:sun_azimuth\": -36.57719268,\n    \"eo:sun_elevation\": -29.09100653,\n    \"eo:cloud_cover\": -1,\n    \"eo:row\": \"206\",\n    \"eo:column\": \"115\",\n    \"landsat:product_id\": \"LC08_L1GT_115206_20190724_20190724_01_RT\",\n    \"landsat:scene_id\": \"LC81152062019205LGN00\",\n    \"landsat:processing_level\": \"L1GT\",\n    \"landsat:tier\": \"RT\",\n    \"landsat:revision\": \"00\"\n  },\n  \"assets\": {\n    \"index\": {\n      \"type\": \"text/html\",\n      \"title\": \"HTML index page\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_MTL.txt\"\n    },\n    \"thumbnail\": {\n      \"title\": \"Thumbnail image\",\n      \"type\": \"image/jpeg\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_thumb_large.jpg\"\n    },\n    \"B1\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        0\n      ],\n      \"title\": \"Band 1 (coastal)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B1.TIF\"\n    },\n    \"B2\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        1\n      ],\n      \"title\": \"Band 2 (blue)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B2.TIF\"\n    },\n    \"B3\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        2\n      ],\n      \"title\": \"Band 3 (green)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B3.TIF\"\n    },\n    \"B4\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        3\n      ],\n      \"title\": \"Band 4 (red)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B4.TIF\"\n    },\n    \"B5\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        4\n      ],\n      \"title\": \"Band 5 (nir)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B5.TIF\"\n    },\n    \"B6\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        5\n      ],\n      \"title\": \"Band 6 (swir16)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B6.TIF\"\n    },\n    \"B7\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        6\n      ],\n      \"title\": \"Band 7 (swir22)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B7.TIF\"\n    },\n    \"B8\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        7\n      ],\n      \"title\": \"Band 8 (pan)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B8.TIF\"\n    },\n    \"B9\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        8\n      ],\n      \"title\": \"Band 9 (cirrus)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B9.TIF\"\n    },\n    \"B10\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        9\n      ],\n      \"title\": \"Band 10 (lwir)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B10.TIF\"\n    },\n    \"B11\": {\n      \"type\": \"image/x.geotiff\",\n      \"eo:bands\": [\n        10\n      ],\n      \"title\": \"Band 11 (lwir)\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_B11.TIF\"\n    },\n    \"ANG\": {\n      \"title\": \"Angle coefficients file\",\n      \"type\": \"text/plain\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_ANG.txt\"\n    },\n    \"MTL\": {\n      \"title\": \"original metadata file\",\n      \"type\": \"text/plain\",\n      \"href\": \"https://landsat-pds.s3.amazonaws.com/c1/L8/115/206/LC08_L1GT_115206_20190724_20190724_01_RT/LC08_L1GT_115206_20190724_20190724_01_RT_MTL.txt\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/items",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"items"
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Datetime range",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://localhost:8080/rest/collectionitems?select=datetime&and=(datetime.lte.'2019-07-23',datetime.gte.'2019-6-19T18:04:12')",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"collectionitems"
					],
					"query": [
						{
							"key": "select",
							"value": "datetime"
						},
						{
							"key": "and",
							"value": "(datetime.lte.'2019-07-23',datetime.gte.'2019-6-19T18:04:12')"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PostgREST Intersects",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"intersects\":{\n        \"type\": \"Polygon\",\n        \"coordinates\": [\n          [\n            [\n              -113.851318359375,\n              31.89621446335144\n            ],\n            [\n              -113.08227539062499,\n              31.372399104880525\n            ],\n            [\n              -112.664794921875,\n              31.512995857454676\n            ],\n            [\n              -112.379150390625,\n              32.222095840502334\n            ],\n            [\n              -113.258056640625,\n              32.18491105051798\n            ],\n            [\n              -113.851318359375,\n              31.89621446335144\n            ]\n          ]\n        ]\n      }\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/rpc/search?select=*",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"rpc",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty Query Transform",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-180, -90, 180, 90],\n\t\"query\": {\n    \t\"eo:cloud_cover\": {\n    \t\t\"gte\": 0,\n    \t\t\"lte\": 10\n    \t},\n    \t\"eo:row\":{\n    \t\t\"eq\": \"038\"\n    \t}\n\t}\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search?select=*",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty Url path rewrite",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-180, -90, 180, 90],\n\t\"query\": {\n    \t\"eo:cloud_cover\": {\n    \t\t\"gte\": 0,\n    \t\t\"lte\": 10\n    \t},\n    \t\"eo:row\":{\n    \t\t\"eq\": \"038\"\n    \t}\n\t}\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty Fields filter include",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-114.18578, 30.64594, -111.68488, 32.81955],\n\t\"fields\":{\n\t\t\"include\": [\n\t\t\t\"properties.eo:row\",\n\t\t\t\"properties.eo:cloud_cover\"\n\t\t]\n\t}\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search?select=*",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						},
						{
							"key": "or",
							"value": "(properties->>\"eo:row\".eq.038,collectionproperties->>\"eo:ow\".eq.038)",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty datetime with query",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-180, -90, 180, 90],\n\t\"datetime\": \"2019-04-01T12:00/2019-08-21T14:02\",\n\t\"query\": {\n    \t\"eo:cloud_cover\": {\n    \t\t\"lte\": 10\n    \t},\n    \t\"eo:row\":{\n    \t\t\"eq\": \"038\"\n    \t}\n\t}\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search?select=*",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty datetime",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"bbox\": [-180, -90, 180, 90],\n\t\"datetime\": \"2019-04-01T12:00/2019-08-21T14:02\"\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search?select=*",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					],
					"query": [
						{
							"key": "select",
							"value": "*"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "OpenResty Fields filter with no geometry.",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"fields\":{\n\t\t\"include\": [\n\t\t\t\"properties.eo:row\",\n\t\t\t\"properties.eo:cloud_cover\"\n\t\t]\n\t}\n}"
				},
				"url": {
					"raw": "http://localhost:8080/rest/search",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"rest",
						"search"
					]
				}
			},
			"response": []
		}
	]
}